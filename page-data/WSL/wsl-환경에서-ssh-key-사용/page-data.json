{"componentChunkName":"component---src-templates-blog-post-js","path":"/WSL/wsl-환경에서-ssh-key-사용/","result":{"data":{"site":{"siteMetadata":{"title":"Memory !== Record","author":"Ayaan","siteUrl":"https://alpaca92.github.io","comment":{"disqusShortName":"","utterances":"Alpaca92/alpaca92.github.io"},"sponsor":{"buyMeACoffeeId":"ayaan92"}}},"markdownRemark":{"id":"c20a69ca-a6c6-57e0-8dd4-a045f3c98780","excerpt":"회사에서 제공받은 노트북으로 개인적인 공부와 회사의 업무를 병행하려다보니 깃헙 계정을 두개를 쓸일이 많아졌다 효율적인 방식을 찾다가 ssh key를 생성하여 각 디렉토리 별로 이메일과 유저명을 다르게 적용하면 좋겠다고 생각했다 내 작업 환경은 WSL이며 디렉토리 구조는 아래와 같다 \n(window 10, wsl2: ubuntu 20.04 lts) 📌 으로 작성된 부분은 스스로의 상황에 맞게 변경되는 값을 표시하였다 1. ssh key…","html":"<p>회사에서 제공받은 노트북으로 개인적인 공부와 회사의 업무를 병행하려다보니 깃헙 계정을 두개를 쓸일이 많아졌다</p>\n<p>효율적인 방식을 찾다가 ssh key를 생성하여 각 디렉토리 별로 이메일과 유저명을 다르게 적용하면 좋겠다고 생각했다</p>\n<p>내 작업 환경은 WSL이며 디렉토리 구조는 아래와 같다 <br />\n(window 10, wsl2: ubuntu 20.04 lts)</p>\n<p>📌 <code class=\"language-text\">${}</code>으로 작성된 부분은 스스로의 상황에 맞게 변경되는 값을 표시하였다</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">📁home\n ├📁ayaan\n   ├📁personal\n   └📁work</code></pre></div>\n<h1 id=\"1-ssh-key-생성\" style=\"position:relative;\"><a href=\"#1-ssh-key-%EC%83%9D%EC%84%B1\" aria-label=\"1 ssh key 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. ssh key 생성</h1>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># ayaan/.ssh 폴더를 생성\n$ mkdir ~/.ssh/\n\n# ssh key를 생성, github 로그인용 email을 사용\n$ ssh-keygen -t rsa -b 4096 -C &quot;${yourEmail@email.com}&quot;</code></pre></div>\n<p><code class=\"language-text\">ssh key</code>를 생성하면 파일명과 암호를 정해야 한다</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Enter file in which to save the key (~/.ssh/id_rsa):\n\nEnter passphrase (empty for no passphrase):\nEnter same passphrase again:</code></pre></div>\n<p>나 같은 경우에는 파일명을 <code class=\"language-text\">id_rsa_personal</code>로 하고 비밀번호는 엔터로 넘겼다</p>\n<p>위의 과정을 회사에서 사용하는 email로 동일하게 한번 더 진행해 주면</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">📁home\n ├📁ayaan\n   ├📁personal\n   ├📁work\n   └📁.ssh\n     ├📝id_rsa_personal.pub\n     ├📝id_rsa_personal\n     ├📝id_rsa_work.pub\n     └📝id_rsa_work</code></pre></div>\n<p>이렇게 비밀키와 공용키 두 쌍이 생성된다</p>\n<h1 id=\"2-ssh-key를-깃헙에-등록하는-법\" style=\"position:relative;\"><a href=\"#2-ssh-key%EB%A5%BC-%EA%B9%83%ED%97%99%EC%97%90-%EB%93%B1%EB%A1%9D%ED%95%98%EB%8A%94-%EB%B2%95\" aria-label=\"2 ssh key를 깃헙에 등록하는 법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. ssh key를 깃헙에 등록하는 법</h1>\n<p>그 후에 깃헙에 접속해서 로그인을 한 후 오른쪽 위에 프로필 사진을 눌러 <br />\n<code class=\"language-text\">Settings</code> → <code class=\"language-text\">🔑SSH and GPG keys</code> → <code class=\"language-text\">New SSH key</code>를 눌러 <code class=\"language-text\">Title</code>은 아무거나 입력하고 <code class=\"language-text\">Key</code>에 공용키를 입력해줘야 한다</p>\n<p>📌 예를 들어 개인작업의 공용키 <code class=\"language-text\">id_rsa_personal.pub</code>의 내용을 알고 싶다면</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># ubuntu\n$ cat id_rsa_ersonal.pub</code></pre></div>\n<p>출력된 내용을 모두 복사하여 위의 <code class=\"language-text\">Key</code>부분에 붙여넣으면 된다<br />(단, 띄어쓰기 등을 임의로 변경하면 안된다)</p>\n<p>회사 계정도 위의 과정을 똑같이 진행하였다면 키를 등록해주도록 하자</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ eval $(ssh-agent)\n$ ssh-add ~/.ssh/id_rsa_personal\n$ ssh-add ~/.ssh/id_rsa_work</code></pre></div>\n<p>📌 등록 중 아래와 같은 문구가 출력된다면 <code class=\"language-text\">yes</code>를 입력해주도록 하자</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ECDSA key fingerprint is\nSHA256: *****************************************\nAre you sure you want to continue connecting (yes/no/[fingerprint])?</code></pre></div>\n<p>등록된 키를 한번 확인해보도록 하자</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ ssh-add -l</code></pre></div>\n<h1 id=\"3-ssh-key의-사용\" style=\"position:relative;\"><a href=\"#3-ssh-key%EC%9D%98-%EC%82%AC%EC%9A%A9\" aria-label=\"3 ssh key의 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. ssh key의 사용</h1>\n<p>이제 개인용 계정과 회사용 계정의 어떤 경우에 사용되는지 정의해주자</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># 📁home/ayaan/.ssh\n$ nano config</code></pre></div>\n<p><code class=\"language-text\">config</code>파일 내에 아래와 같이 적어 준다</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Host ${personal}\n  HostName github.com\n  User git\n  IdentityFile ~/.ssh/id_rsa_personal\n\n# 회사용 계정\nHost ${work}\n  HostName github.com\n  User git\n  IdentityFile ~/.ssh/id_rsa_work</code></pre></div>\n<p>📌 위의 Host <code class=\"language-text\">personal</code>과 <code class=\"language-text\">work</code>는 나중에 자주 사용되니 되도록 짧게 만들도록 하자</p>\n<p><code class=\"language-text\">config</code>작성이 끝났나면 아래와 같이 테스트를 진행해보는 것이 좋다</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ ssh -T git@personal\n# Hi personal! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</code></pre></div>\n<p>다 끝났다 ! 이제 <code class=\"language-text\">git clone</code>, <code class=\"language-text\">git remote</code>를 할 때 <code class=\"language-text\">ssh key</code>방식을 사용하면 되는데 기본으로 주어지는 주소값은 <code class=\"language-text\">git@github.com:Username/RepositoryName.git</code>으로 되어있을 텐데 이를 <code class=\"language-text\">config</code>에서 작성하였던 <code class=\"language-text\">Host</code>로 변경해주면 된다</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># git@github.com:Username/RepositoryName.git\n\n# 개인용\n$ git clone git@personal:Username/RepositoryName.git\n\n# 직작용\n$ git clone git@work:Username/RepositoryName.git</code></pre></div>\n<p><code class=\"language-text\">git push</code>를 하다보면 <code class=\"language-text\">username</code>과 <code class=\"language-text\">email</code>이 개인용이든 직장용이든 똑같은 것을 알 수 있다</p>\n<p>이는 아마 본인이 처음 생각했던 것이랑은 다를 것이다</p>\n<p>이를 위해서는 <code class=\"language-text\">.gitconfig</code>설정을 해줘야하는데 이 설정은 <a href=\"https://alpaca92.github.io/git/%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC-%EB%B3%84-github-%EA%B3%84%EC%A0%95-%EC%84%A4%EC%A0%95/\">여기</a>를 참고하도록 하자</p>\n<h2 id=\"references\" style=\"position:relative;\"><a href=\"#references\" aria-label=\"references permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>*references</h2>\n<ol>\n<li><a href=\"https://yangeok.github.io/git/2020/03/08/ssh-multiple-account.html\">머신 한 대에서 GIT 계정 여러개 사용하기</a></li>\n<li><a href=\"https://coderefinery.github.io/installation/ssh/\">SSH connection to GitHub</a></li>\n<li><a href=\"https://rutesun.wordpress.com/2015/02/04/git-bash-%EA%B0%9C%EC%9D%B8%ED%82%A4-%EB%93%B1%EB%A1%9D%EC%8B%9C-%EC%97%90%EB%9F%AC/\">GIT BASH 개인키 등록시 에러</a></li>\n</ol>","frontmatter":{"title":"WSL 환경에서 ssh key 사용","date":"April 20, 2022"}}},"pageContext":{"slug":"/WSL/wsl-환경에서-ssh-key-사용/","previous":null,"next":{"fields":{"slug":"/git/디렉토리-별-github-계정-설정/"},"frontmatter":{"title":"디렉토리 별 github 계정 설정"}}}}}